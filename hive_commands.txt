create database if not exists yahoo_finance;

SHOW DATABASES;

create table if not exists yahoo_finance.chart
   (trading_unix_timestamp BIGINT,
    ticker STRING,
    open FLOAT,
    high FLOAT,
    low FLOAT,
    close FLOAT,
    volume BIGINT,
    dividends FLOAT,
    stock_splits INT)
   partitioned by(trading_date STRING)
   ROW FORMAT DELIMITED
   FIELDS TERMINATED BY ','
   STORED AS TEXTFILE;

create table if not exists yahoo_finance.options
   (ticker STRING,
    contract_symbol STRING,
    option_type STRING,
    last_trade_date TIMESTAMP,
    strike FLOAT,
    lastPrice FLOAT,
    bid FLOAT,
    ask FLOAT,
    change FLOAT,
    percent_change FLOAT,
    volume FLOAT,
    open_interest BIGINT,
    implied_volatility FLOAT,
    in_the_money BOOLEAN,
    contract_size STRING,
    currency STRING)
   partitioned by(expiration_date STRING)
   ROW FORMAT DELIMITED
   FIELDS TERMINATED BY ','
   STORED AS TEXTFILE;

DESCRIBE FORMATTED yahoo_finance.chart;
DESCRIBE FORMATTED yahoo_finance.options;

